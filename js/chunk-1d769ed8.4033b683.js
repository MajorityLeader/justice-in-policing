(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d769ed8"],{7789:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(e){return t.vote("solidarity",t.commentId)}}},[n("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.solidarity")]),n("span",{staticClass:"d-none d-sm-flex"},[t._v("Show Solidarity ")]),t._v("("+t._s(t.counts.solidarity?t.counts.solidarity:"0")+") ")],1),n("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(e){return t.vote("empathize",t.commentId)}}},[n("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.empathy")]),n("span",{staticClass:"d-none d-sm-flex"},[t._v("Empathize ")]),t._v("("+t._s(t.counts.empathize?t.counts.empathize:"0")+") ")],1),n("v-spacer"),[n("div",{staticClass:"text-center d-flex align-center mr-5"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",disabled:t.flagged,color:t.counts.flag?"error":"grey"},on:{click:function(e){return t.vote("flag",t.commentId)}}},"v-btn",i,!1),a),[n("v-icon",[t._v("mdi-flag")]),t._v(" "),t.counts.flag?n("span",[t._v("("+t._s(t.counts.flag)+")")]):t._e()],1)]}}])},[n("span",[t._v("Flag this post as inappropriate")])])],1)],this.$route.query.adminKey?n("v-btn",{attrs:{color:"error",disabled:t.removed},on:{click:function(e){return t.deleteComment(t.commentId)}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v(t._s(t.removed?"Comment Removed":"Admin Remove")+" ")],1):t._e(),n("v-snackbar",{model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(t._s(t.snackbar.text))])],2)},i=[],o=(n("99af"),n("96cf"),n("1da1")),s=n("2b0e"),r=n("760d");s["a"].use(r["VueReCaptcha"],{siteKey:"6LeSLqUZAAAAAFH3qdzPtcrMyMNnL-bgcxQuuizs"});var c={name:"Votes",props:["commentId","empathizeCount","solidarityCount"],data:function(){return{counts:{solidarity:0,empathize:0,flag:0},snackbar:{show:!1,text:null},flagged:!1,removed:!1}},methods:{deleteComment:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$http.delete("".concat(e.$api,"/comments/").concat(t,"?adminKey=").concat(e.$route.query.adminKey));case 3:e.removed=!0,n.next=11;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error(n.t0),e.snackbar.text=n.t0,e.snackbar.show=!0;case 11:case"end":return n.stop()}}),n,null,[[0,6]])})))()},vote:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.reCaptcha();case 2:return i=a.sent,a.next=5,n.$http.post(n.$api+"/votes",{voteType:t,commentId:e,captcha:i});case 5:return a.next=7,n.getVotes();case 7:"flag"===t&&(n.snackbar.text="Comment flagged for review",n.snackbar.show=!0,n.flagged=!0);case 8:case"end":return a.stop()}}),a)})))()},getVotes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.$route.query.adminKey){e.next=7;break}return e.next=4,t.$http.get(t.$api+"/votes/count/admin?commentId="+t.commentId+"&adminKey="+t.$route.query.adminKey);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,t.$http.get(t.$api+"/votes/count?commentId="+t.commentId);case 9:n=e.sent;case 10:t.counts=n.data,e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error(e.t0),t.snackbar.text=e.t0,t.snackbar.show=!0;case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))()},reCaptcha:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$recaptchaLoaded();case 3:return e.next=5,t.$recaptcha("login");case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e["catch"](0),console.log("#reCaptcha: ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},created:function(){this.counts.solidarity=this.solidarityCount,this.counts.empathize=this.empathizeCount}},u=c,h=n("2877"),l=n("6544"),d=n.n(l),p=n("8336"),v=n("99d9"),m=n("132d"),f=n("2db4"),g=n("2fa4"),b=(n("a9e3"),n("ade3")),y=(n("9734"),n("4ad4")),x=n("a9ad"),w=n("16b7"),k=n("b848"),_=n("75eb"),C=n("f573"),$=n("f2e7"),A=n("80d2"),I=n("d9bd"),O=n("58df"),z=Object(O["a"])(x["a"],w["a"],k["a"],_["a"],C["a"],$["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,a=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||a?o=i+e.width/2-n.width/2:(this.left||this.right)&&(o=i+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,a=!1!==this.attach?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=a+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=a+e.height/2-n.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(A["g"])(this.maxWidth),minWidth:Object(A["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(A["r"])(this,"activator",!0)&&Object(I["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=y["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===A["v"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(b["a"])(t,this.contentClass,!0),Object(b["a"])(t,"menuable__content__active",this.isActive),Object(b["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}}),T=Object(h["a"])(u,a,i,!1,null,"9b229a56",null);e["default"]=T.exports;d()(T,{VBtn:p["a"],VCardActions:v["a"],VIcon:m["a"],VSnackbar:f["a"],VSpacer:g["a"],VTooltip:z})},9734:function(t,e,n){}}]);
//# sourceMappingURL=chunk-1d769ed8.4033b683.js.map